მარშრუტიზაციის (routing) დადგენა საჭიროა რომ იცოდე თუ რა შუამავალი სისტემებია შენს და დამიზნული კომპიუტერის შორის. დაგეხმარება რომ გაიგო ქსელი როგორაა გამართული და ტრეფიკი როგორ მიმოიქცევა მის და მიზნის შორის.
და დაგეხმარება დადგენაში არის თუ არა ფაირვოლი და პროქსი სერვერი შენს და სამიზნის შუაში.

# tcptraceroute

traceroute-ი აგზავნის UDP ან ICMP echo პაკეტებს, და TTL-ი უდრის 1-თს და ყოველივე ჰოსტის გადალახვის დროს იგი 1-ით იზრდება. tcptraceroute-ი კი TCP SYN პაკეტებს იყენებს. tcptraceroute-ის უპირატესობაა როცა ფაირვოლია შენს და მიზნის შუაში. ფაირვოლები ხშირად ფილტრავენ ICMP და UDP პაკეტებს, ამ შემთხვევაში tcptraceroute უფრო გამოგადგება ვიდერე traceroute-ი.

tcptraceroute იყენებს TCP სამ ეტაპიან ხელის ჩამორთმევას კავშირის დამყარების დროს, თუ პორტი ღიაა იგი იღებს SYN/ACK პაკეტს. თუ პორტი დაკეტილია RST პაკეტი მოდის.

ეს პროგრამა უნდა გაუშვათ root-ის მეშვეობით. 

```
root@kali:~# tcptraceroute hackthissite.org
Running:
	traceroute -T -O info hackthissite.org 
traceroute to hackthissite.org (137.74.187.101), 30 hops max, 60 byte packets
 1  192.168.1.254 (192.168.1.254)  1.127 ms  1.223 ms  1.367 ms
 2  78.192.219.254 (78.192.219.254)  1.777 ms  1.938 ms  2.037 ms
 3  78.255.43.126 (78.255.43.126)  2.997 ms  3.780 ms  4.043 ms
 4  fgt-43h-5-y753.yu.jik.oip.com (78.254.242.25)  2.680 ms  3.458 ms  3.428 ms
 5  * * *
 6  194.149.166.62 (194.149.166.62)  3.259 ms  2.595 ms  3.539 ms
 7  gsw-1-a9.fr.eu (54.36.50.110)  4.124 ms  5.837 ms  5.806 ms
 8  be102.rbx-g2-nc5.fr.eu (94.23.122.214)  7.805 ms  6.770 ms  7.046 ms
 9  * * *
10  * * *
11  hackthissite.org (137.74.187.101) <syn,ack>  12.149 ms  12.613 ms  12.632 ms
```

ნათელია რომ სხვადასხვა ეტაპებს გადი. სულ 11-ს, *** ნიშნავს რომ მაგ ეტაპზე ფილტრაცია განხორციელდა.

# tctrace

ჰოსტს უგზავნის SYN პაკეტს, თუ პორტი ღიაა პასუხად მოდის SYN/ACK, თუ პორტი დაკეტილია მოდის RST პაკეტი.

```
tctrace -i<device> -d<targethost>
```

ეს პროგრამა უნდა გაუშვათ root-ის მეშვეობით. 

```
root@kali:~# tctrace -i wlan0 -d  www.hackthissite.org
 1(1)	[192.168.1.254]
 2(1)	[78.192.219.254]
 3(1)	[78.255.43.126]
 4(1)	[78.254.242.25]
 5(1)	[78.254.249.1]
 6(1)	[194.149.166.62]
 7(1)	[54.36.50.110]
 8(1)	[94.23.122.214]
9(all)	Timeout
10(2)	[178.33.100.204]
11(1)	[137.74.187.102] (reached; open)
```
